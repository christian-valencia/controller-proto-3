(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const me={LS_X:0,LS_Y:1,RS_X:2,RS_Y:3},Ze={A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,VIEW:8,MENU:9,LS:10,RS:11,UP:12,DOWN:13,LEFT:14,RIGHT:15,HOME:16};class et{prev=new Map;now=new Map;deadzone=.18;triggerThreshold=.2;indexOfFirst=null;constructor(){console.log("ðŸŽ® GamepadManager initialized"),window.addEventListener("gamepadconnected",e=>{console.log("ðŸŽ® GAMEPAD CONNECTED:",e.gamepad.id),this.indexOfFirst===null&&(this.indexOfFirst=e.gamepad.index)}),window.addEventListener("gamepaddisconnected",e=>{console.log("ðŸŽ® GAMEPAD DISCONNECTED:",e.gamepad.id);const s=e.gamepad.index;this.indexOfFirst===s&&(this.indexOfFirst=null)})}first(){const e=navigator.getGamepads();for(const s of e)if(s)return s;return null}update(){this.prev=new Map(this.now),this.now.clear();const e=navigator.getGamepads();for(const s of e)s&&this.now.set(s.index,s)}btnValue(e,s){const i=e.buttons[Ze[s]];return i?s==="LT"||s==="RT"?i.value>=this.triggerThreshold?i.value:0:i.pressed?1:0:0}isDown(e,s=0){let i=this.now.get(s);if(!i){for(const[o,n]of this.now.entries())if(n){i=n;break}}return i?this.btnValue(i,e)>0:!1}justPressed(e,s=0){let i=this.now.get(s),o=this.prev.get(s);if(!i){for(const[r,f]of this.now.entries())if(f){i=f,o=this.prev.get(r);break}}if(!i)return!1;const n=this.btnValue(i,e)>0,a=o?this.btnValue(o,e)>0:!1;return n&&!a}justReleased(e,s=0){let i=this.now.get(s),o=this.prev.get(s);if(!i){for(const[r,f]of this.now.entries())if(f){i=f,o=this.prev.get(r);break}}if(!i)return!1;const n=this.btnValue(i,e)>0,a=o?this.btnValue(o,e)>0:!1;return!n&&a}getStick(e,s=0){let i=this.now.get(s);if(!i){for(const[v,C]of this.now.entries())if(C){i=C;break}}if(!i)return{x:0,y:0,magnitude:0};const o=e==="LEFT"?me.LS_X:me.RS_X,n=e==="LEFT"?me.LS_Y:me.RS_Y;let a=i.axes[o]??0,r=i.axes[n]??0;r=-r;const f=Math.hypot(a,r);if(f<this.deadzone)return{x:0,y:0,magnitude:0};const m=(f-this.deadzone)/(1-this.deadzone),h=m/(f||1);return{x:a*h,y:r*h,magnitude:m}}}const J={a:"A",A:"A",s:"B",S:"B",d:"X",D:"X",w:"Y",W:"Y",j:"A",J:"A",l:"B",L:"B",i:"Y",I:"Y",k:"X",K:"X",ArrowUp:"UP",ArrowDown:"DOWN",ArrowLeft:"LEFT",ArrowRight:"RIGHT",q:"LB",Q:"LB",e:"RB",E:"RB",z:"LT",Z:"LT",c:"RT",C:"RT",v:"LS",V:"LS",n:"RS",N:"RS",Tab:"VIEW",Enter:"MENU",Escape:"HOME"};class tt{keysDown=new Set;prevKeysDown=new Set;leftStick={x:0,y:0};rightStick={x:0,y:0};constructor(){window.addEventListener("keydown",e=>{(J[e.key]||e.key==="Tab")&&e.preventDefault(),this.keysDown.add(e.key),this.updateSticks()}),window.addEventListener("keyup",e=>{(J[e.key]||e.key==="Tab")&&e.preventDefault(),this.keysDown.delete(e.key),this.updateSticks()})}updateSticks(){let e=0,s=0;this.keysDown.has("Control")&&((this.keysDown.has("a")||this.keysDown.has("A"))&&(e-=1),(this.keysDown.has("d")||this.keysDown.has("D"))&&(e+=1),(this.keysDown.has("w")||this.keysDown.has("W"))&&(s+=1),(this.keysDown.has("s")||this.keysDown.has("S"))&&(s-=1));let o=0,n=0;this.keysDown.has("Alt")&&((this.keysDown.has("j")||this.keysDown.has("J"))&&(o-=1),(this.keysDown.has("l")||this.keysDown.has("L"))&&(o+=1),(this.keysDown.has("i")||this.keysDown.has("I"))&&(n+=1),(this.keysDown.has("k")||this.keysDown.has("K"))&&(n-=1)),this.leftStick={x:e,y:s},this.rightStick={x:o,y:n}}update(){this.prevKeysDown=new Set(this.keysDown)}isDown(e){for(const[s,i]of Object.entries(J))if(i===e&&this.keysDown.has(s))return!0;return!1}justPressed(e){if(!this.isDown(e))return!1;for(const[i,o]of Object.entries(J))if(o===e&&this.prevKeysDown.has(i))return!1;return!0}justReleased(e){if(this.isDown(e))return!1;for(const[i,o]of Object.entries(J))if(o===e&&this.prevKeysDown.has(i))return!0;return!1}getStick(e){const s=e==="LEFT"?this.leftStick:this.rightStick,i=Math.hypot(s.x,s.y);return i>1?{x:s.x/i,y:s.y/i,magnitude:1}:{x:s.x,y:s.y,magnitude:i}}getKeyMappings(){return{...J}}}class st{gamepadManager;keyboardManager;constructor(){this.gamepadManager=new et,this.keyboardManager=new tt}update(){this.gamepadManager.update(),this.keyboardManager.update()}isDown(e,s=0){return this.gamepadManager.isDown(e,s)||this.keyboardManager.isDown(e)}justPressed(e,s=0){return this.gamepadManager.justPressed(e,s)||this.keyboardManager.justPressed(e)}justReleased(e,s=0){return this.gamepadManager.justReleased(e,s)||this.keyboardManager.justReleased(e)}getStick(e,s=0){const i=this.gamepadManager.getStick(e,s);return i.magnitude>.1?i:this.keyboardManager.getStick(e)}get gamepad(){return this.gamepadManager}get keyboard(){return this.keyboardManager}firstGamepad(){return this.gamepadManager.first()}getActiveInputMethod(){const e=this.gamepadManager.first()!==null,s=this.keyboardManager.getStick("LEFT").magnitude>0||this.keyboardManager.getStick("RIGHT").magnitude>0||Object.values(this.keyboardManager.getKeyMappings()).some(i=>this.keyboardManager.isDown(i));return e&&s?"both":e?"gamepad":s?"keyboard":"none"}}document.getElementById("windows-shell");document.getElementById("lock-screen");const _e=document.getElementById("switcher"),fe=document.getElementById("clock"),Ue=document.getElementById("clock2");document.getElementById("auth");document.getElementById("progress-ring");const K=document.getElementById("progress-circle"),it=document.getElementById("green"),nt=document.getElementById("blue"),ot=document.getElementById("orange");let S=[it,nt,ot],w=["green","blue","orange"];function Ke(){return w.filter(t=>{const e=document.getElementById(t);return e&&!e.classList.contains("hidden-app")})}const d=new st;let Fe=0;window.addEventListener("keydown",t=>{if((t.key.toLowerCase()==="s"||t.key.toLowerCase()==="l")&&j===A.SHELL&&be){const e=Date.now();e-Fe>pt&&(pe(be),Fe=e)}});const A={LOCKED:"locked",SHELL:"shell",MENU:"menu",APP:"app"};let j=A.LOCKED,g=0,c=0,b=!1,ke=0,ne=!1,l="preview",q=0,ve={area:"preview",navIndex:0,appIndex:0},be=null;const de=["start","settings","gallery","notifications"];let Te=!1,Ve=!1,Be=!1,Xe=!1,xe=!1,$e=!1,x=0,y=-1;const lt=3,ye=[6,8,7];let Y=0;const at=11;let P=0;const ct=4;let E=0;const Me=4;let I=0,k=0,M=0,R=0;const O=2;let T=0;const rt=9;let we=[50,50,50],Le=["Value 1","Value 2","Value 3"],ae=[0,0,0,0,0,0],De=0,ce=!1,Pe=0,re=!1,Se=0;const H=300,ft=300,dt=300,ut=700,Ce=700,pt=200,u=.6,gt=.3;window.addEventListener("keydown",t=>{t.key.toLowerCase()==="f"&&Re()});function Re(){document.fullscreenElement?document.exitFullscreen().catch(console.error):document.documentElement.requestFullscreen().catch(console.error)}const mt={"lock-screen":{controller:[{button:"A",action:"Unlock"}],keyboard:[{button:"A",action:"Unlock"}]},preview:{controller:[{button:"A",action:"Select"},{button:"?",action:"Nav Right"},{button:"?",action:"Nav Left"},{button:"?",action:"Nav Down"},{button:"?",action:"Nav Up"}],keyboard:[{button:"A",action:"Select"},{button:"?",action:"Nav Right"},{button:"?",action:"Nav Left"},{button:"?",action:"Nav Down"},{button:"?",action:"Nav Up"}]},"preview-scaled":{controller:[{button:"X",action:"Overlay"},{button:"X",action:"Hold for App Switching"}],keyboard:[{button:"D",action:"Overlay"},{button:"D",action:"Hold for App Switching"}]},"shell-nav":{controller:[{button:"A",action:"Select"},{button:"?",action:"Nav Right"},{button:"?",action:"Nav Left"},{button:"?",action:"Nav Down"},{button:"?",action:"Nav Up"}],keyboard:[{button:"A",action:"Select"},{button:"?",action:"Nav Right"},{button:"?",action:"Nav Left"},{button:"?",action:"Nav Down"},{button:"?",action:"Nav Up"}]},start:{controller:[{button:"A",action:"Select"},{button:"B",action:"Back"}],keyboard:[{button:"A",action:"Select"},{button:"S",action:"Back"}]},gallery:{controller:[{button:"A",action:"Select"},{button:"B",action:"Back"}],keyboard:[{button:"A",action:"Select"},{button:"S",action:"Back"}]},notifications:{controller:[{button:"A",action:"Select"},{button:"B",action:"Back"}],keyboard:[{button:"A",action:"Select"},{button:"S",action:"Back"}]},settings:{controller:[{button:"R",action:"Adjust (Right Stick)"},{button:"B",action:"Back"}],keyboard:[{button:"S",action:"Back"}]}};function D(t){const e=mt[t];if(!e)return;const s=document.querySelector(".controller-items"),i=document.querySelector(".keyboard-items");s&&(s.innerHTML=e.controller.map(o=>`
      <div class="legend-item">
        <div class="legend-button">${o.button}</div>
        <span class="legend-action">${o.action}</span>
      </div>
    `).join("")),i&&(i.innerHTML=e.keyboard.map(o=>`
      <div class="legend-item">
        <div class="legend-button">${o.button}</div>
        <span class="legend-action">${o.action}</span>
      </div>
    `).join(""))}function Ye(){d.update(),ht(),bt(),requestAnimationFrame(Ye)}function ht(){switch(j){case A.LOCKED:vt();break;case A.SHELL:Pt(),wt();break;case A.MENU:Rt();break;case A.APP:qt();break;default:console.warn("Unknown UI state:",j);break}d.justPressed("VIEW")&&Re(),d.justPressed("MENU")&&j===A.LOCKED&&Re()}function vt(){if(j!==A.LOCKED)return;const t=d.isDown("A");if(t&&!ce)ce=!0,Pe=Date.now(),K&&(K.style.transition="none",K.style.strokeDashoffset="100.53");else if(t&&ce){const e=Date.now()-Pe,s=Math.min(e/ut,1);if(K){const o=100.53*(1-s);K.style.strokeDashoffset=o.toString()}s>=1&&yt()}else!t&&ce&&We()}function yt(){console.log("Hold complete! Authentication action triggered."),b=!1;const t=document.getElementById("lock-video");t&&(t.pause(),t.currentTime=0),document.querySelectorAll("video").forEach(i=>{i.pause(),i.muted=!0,i.currentTime=0}),ue(A.SHELL);const s=document.getElementById("auth");s&&s.classList.add("slide-out"),setTimeout(()=>{je()},400),We(),p.confirmation(),console.log("Lock screen unlocked! Opening Start menu.")}function We(){j===A.LOCKED&&(ce=!1,Pe=0,K&&(K.style.transition="stroke-dashoffset 0.2s ease",K.style.strokeDashoffset="100.53"))}function wt(){if(j!==A.SHELL||!b||l!=="preview")return;const t=d.isDown("X");t&&!re?(re=!0,Se=Date.now(),console.log("X button hold started - will scale down preview in",Ce+"ms")):t&&re?Date.now()-Se>=Ce&&Lt():!t&&re&&(Date.now()-Se<Ce&&(console.log("X button quick tap detected - toggling overlay"),St()),ze())}function Lt(){console.log("X button hold complete! Scaling down preview and reordering to leftmost position.");const e=w.map(s=>document.getElementById(`${s}-preview`))[g];if(e&&e.classList.contains("preview-scaled")){if(e.classList.remove("preview-scaled"),e.classList.add("preview-center"),e.style.opacity="1",e.style.visibility="visible",b=!1,D("preview"),ne){const n=document.getElementById("overlay");n&&(n.classList.remove("visible"),ne=!1,console.log("Overlay closed (preview scaled down)"))}const s=document.getElementById("running-apps");s&&s.classList.add("visible");const i=document.getElementById("shell-nav");if(i&&i.classList.add("visible"),g!==0){const n=S[g],a=w[g];S.splice(g,1),w.splice(g,1),S.unshift(n),w.unshift(a);const r=document.getElementById("running-apps");r&&(r.innerHTML="",S.forEach(f=>{f&&r.appendChild(f)})),g=0}w.map(n=>document.getElementById(`${n}-preview`)).forEach((n,a)=>{n&&(n.classList.remove("preview-center","preview-left","preview-right","preview-far-left","preview-far-right"),a===0?n.classList.add("preview-center"):a===1?n.classList.add("preview-right"):a===2&&n.classList.add("preview-far-right"))}),S.forEach((n,a)=>{n&&(a===g?(n.classList.add("app-active"),n.classList.remove("app-rest")):(n.classList.add("app-rest"),n.classList.remove("app-active")))}),N(),p.confirmation()}ze()}function ze(){re=!1,Se=0}function St(){if(!b||l!=="preview"){console.log("Overlay can only be toggled when an app preview is fullscreen");return}const t=document.getElementById("overlay");if(t)if(ne=!ne,ne){const e=w[g];t.classList.add("visible"),t.classList.remove("show-gb","show-steam"),e==="green"||e==="blue"?(t.classList.add("show-gb"),console.log(`Overlay opened: GB interface for ${e} app`)):e==="orange"&&(t.classList.add("show-steam"),console.log(`Overlay opened: Steam interface for ${e} app`)),p.lightTap()}else t.classList.remove("visible","show-gb","show-steam"),console.log("Overlay closed"),p.lightTap()}function bt(){Et(),Je()}function Je(){const t=j!==A.LOCKED;_e&&(_e.className=t?"unlocked":"locked"),fe&&(t?fe.classList.add("slide-out"):fe.classList.remove("slide-out"))}function Et(){const t=new Date;let e=t.getHours();const s=t.getMinutes();e===0?e=12:e>12&&(e=e-12);const i=`${e}:${s.toString().padStart(2,"0")}`;fe&&(fe.textContent=i),Ue&&(Ue.textContent=i)}async function Q(t=1,e=200){const s=d.firstGamepad();if(!s)return;const i=s.vibrationActuator;if(i)try{await i.playEffect("dual-rumble",{duration:e,strongMagnitude:t,weakMagnitude:t})}catch(o){console.warn("Rumble not supported:",o)}}const p={lightTap:()=>Q(.2,50),confirmation:()=>Q(.8,200),navigation:()=>Q(.1,30),error:()=>Q(.6,100),menuToggle:()=>Q(.4,150),selectionChange:()=>Q(.15,25)};function ue(t){j=t,t===A.LOCKED?D("lock-screen"):t===A.SHELL&&D("preview");const e=document.getElementById("blur-container");e&&(t!==A.LOCKED?e.classList.add("visible"):e.classList.remove("visible")),Je(),He()}function Z(t){const e=Ke();if(e.length===0)return;const s=w[g],i=e.indexOf(s);let o;t==="right"?o=(i+1)%e.length:t==="left"&&(o=(i-1+e.length)%e.length);const n=e[o];g=w.indexOf(n),He(),p.selectionChange()}function ee(t){t==="right"?q=(q+1)%de.length:t==="left"&&(q=(q-1+de.length)%de.length),N(),p.selectionChange()}function He(){j===A.SHELL&&(S.forEach((t,e)=>{t&&(e===g?(t.classList.add("app-active"),t.classList.remove("app-rest")):(t.classList.add("app-rest"),t.classList.remove("app-active")))}),It())}function It(){const t=Ke(),e=t.map(n=>document.getElementById(`${n}-preview`));w.forEach(n=>{const a=document.getElementById(`${n}-preview`);a&&a.classList.remove("preview-center","preview-left","preview-right","preview-far-left","preview-far-right","preview-scaled")}),b=!1,D("preview");const s=t.length,i=w[g],o=t.indexOf(i);if(s===2)switch(o){case 0:e[0]?.classList.add("preview-center"),e[1]?.classList.add("preview-right");break;case 1:e[0]?.classList.add("preview-left"),e[1]?.classList.add("preview-center");break}else if(s===3)switch(o){case 0:e[0]?.classList.add("preview-center"),e[1]?.classList.add("preview-right"),e[2]?.classList.add("preview-far-right");break;case 1:e[0]?.classList.add("preview-left"),e[1]?.classList.add("preview-center"),e[2]?.classList.add("preview-right");break;case 2:e[0]?.classList.add("preview-far-left"),e[1]?.classList.add("preview-left"),e[2]?.classList.add("preview-center");break}N()}function Ge(){const e=w.map(s=>document.getElementById(`${s}-preview`))[g];if(e)if(b)console.log("Preview already scaled up. Use VIEW button hold to scale down.");else{e.classList.add("preview-scaled"),b=!0,D("preview-scaled"),e.id;const s=document.getElementById("running-apps");s&&s.classList.remove("visible");const i=document.getElementById("shell-nav");i&&i.classList.remove("visible"),N(),p.confirmation()}}function N(){const t=document.getElementById("focus");if(t)if(t.classList.remove("focus-preview","focus-nav","focus-shell-surface","focus-shell-start","focus-shell-settings"),l==="preview"){Ne();const s=w.map(o=>document.getElementById(`${o}-preview`))[g];if(!s)return;s.classList.contains("preview-scaled")?(t.style.width="1280px",t.style.height="720px"):(t.style.width="648px",t.style.height="432px"),t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.classList.add("focus-preview")}else if(l==="shell-nav"){t.classList.add("focus-nav");const e=document.getElementById(de[q]);if(!e)return;const s=e.getBoundingClientRect(),i=document.getElementById("windows-shell").getBoundingClientRect();t.style.width="64px",t.style.height="64px",t.style.top=`${s.top-i.top+s.height/2}px`,t.style.left=`${s.left-i.left+s.width/2}px`,t.style.transform="translate(-50%, -50%)",Ne(de[q])}else l==="shell-surface"&&Ne()}function Ne(t=null){const e={start:document.getElementById("label-start"),settings:document.getElementById("label-settings"),notifications:document.getElementById("label-notifications"),gallery:document.getElementById("label-gallery")},s=document.getElementById("shell-nav");if(!t||!s){Object.values(e).forEach(m=>{m&&m.classList.remove("active","faded")});return}const i=document.getElementById(t);if(!i)return;const o=i.getBoundingClientRect(),n=s.getBoundingClientRect(),a=o.top-n.top,r=o.left-n.left,f=o.width;Object.entries(e).forEach(([m,h])=>{if(h)if(m===t){h.classList.add("active"),h.classList.remove("faded");const v=a-16-20,C=r+f/2;h.style.top=`${v}px`,h.style.left=`${C}px`,h.style.transform="translateX(-50%)"}else h.classList.remove("active"),h.classList.add("faded")})}function At(){l=ve.area,g=ve.appIndex,q=ve.navIndex;const t=document.getElementById("focus"),e=document.getElementById("shell-nav");t&&(t.style.opacity="1"),e&&(e.style.opacity="1"),N()}function z(){const t=document.getElementById("focus"),e=document.querySelector(".start-search-box"),s=document.querySelectorAll(".start-row-container"),i=document.querySelector(".start-content");if(!t)return;if(t.style.opacity="0",document.querySelectorAll(".start-app").forEach(n=>n.classList.remove("focused")),e&&e.classList.remove("focused"),y===-1){e&&e.classList.add("focused"),s.forEach(n=>{n.style.transition="transform 0.3s ease",n.style.transform="translateY(0)"});return}const o=s[y];if(o){const r=o.querySelector(".start-apps").querySelectorAll(".start-app")[x];r&&r.classList.add("focused");const f=ye[y];if(f>5){let h=0;if(x>=3){h=-(x-2)*194;const C=-(f-5)*194;h=Math.max(h,C)}o.style.transition="transform 0.3s ease",o.style.transform=`translateX(${h}px) translateY(${y>=2?-264*(y-1):0}px)`}else o.style.transition="transform 0.3s ease",o.style.transform=`translateX(0) translateY(${y>=2?-264*(y-1):0}px)`}if(i){let n=0;y>=2&&(n=-264*(y-1)),s.forEach((a,r)=>{r!==y&&(a.style.transition="transform 0.3s ease",a.style.transform=`translateY(${n}px)`)}),e&&(e.style.transition="transform 0.3s ease",e.style.transform=`translateX(-50%) translateY(${n}px)`)}}function F(t){if(y===-1){t==="down"&&(y=0,x=0,z());return}const e=ye[y];t==="left"&&x>0?(x--,z()):t==="right"&&x<e-1?(x++,z()):t==="up"?y>0?(y--,x=Math.min(x,ye[y]-1),z()):y===0&&(y=-1,x=0,z()):t==="down"&&y<lt-1&&(y++,x=Math.min(x,ye[y]-1),z())}function qe(){const t=document.querySelectorAll(".nav-page-item");if(!(!t||t.length===0)&&(t.forEach(e=>e.classList.remove("focused")),t[Y])){t[Y].classList.add("focused");const e=document.querySelector(".settings-nav-pages");if(e)if(Y>=2){const s=t[2];if(s){const i=s.offsetTop;e.scrollTo({top:i,behavior:"smooth"})}}else e.scrollTo({top:0,behavior:"smooth"})}}function V(t){t==="up"&&Y>0?(Y--,qe()):t==="down"&&Y<at-1?(Y++,qe()):t==="right"&&(document.querySelectorAll(".nav-page-item").forEach(s=>s.classList.remove("focused")),l="settings-display-controls",T=0,Ee())}function Ee(){const t=document.querySelectorAll(".section-settings"),e=[];if(t.forEach(s=>{const i=s.querySelector(".slider-control"),o=s.querySelectorAll(".cycle-selector");i&&e.push(i),o.forEach(n=>e.push(n))}),!(!e||e.length===0)&&(e.forEach(s=>{s&&s.classList.remove("focused")}),e[T])){e[T].classList.add("focused");const s=document.querySelector(".settings-content-container");if(T<=2)s&&s.scrollTo({top:0,behavior:"smooth"});else if(T>=6){const i=t[2];if(i&&s){const o=i.offsetTop;s.scrollTo({top:o,behavior:"smooth"})}}}}function X(t){if(t==="up"&&T>0)T--,Ee();else if(t==="down"&&T<rt-1)T++,Ee();else if(t==="left"){const e=document.querySelectorAll(".section-settings"),s=[];e.forEach(i=>{const o=i.querySelector(".slider-control"),n=i.querySelectorAll(".cycle-selector");o&&s.push(o),n.forEach(a=>s.push(a))}),s.forEach(i=>{i&&i.classList.remove("focused")}),l="settings-nav",qe()}}function Qe(t){const e=t===0?0:t===3?1:2,i=document.querySelectorAll(".section-settings")[e];if(!i)return;const o=i.querySelector(".slider-knob"),n=i.querySelector(".slider-value"),a=we[e];o&&(o.style.left=`${a}%`),n&&(n.style.width=`${a}%`)}function Oe(t){const s={1:0,2:1,4:2,5:3,7:4,8:5}[t];if(s===void 0)return;const i=document.querySelectorAll(".section-settings"),o=[];i.forEach(r=>{r.querySelectorAll(".cycle-selector").forEach(m=>o.push(m))});const n=o[s];if(!n)return;const a=n.querySelector(".cycle-value");a&&(a.textContent=Le[ae[s]])}function Ie(){const t=document.querySelectorAll(".gallery-nav-pages .nav-page-item");!t||t.length===0||(t.forEach(e=>e.classList.remove("focused")),t[P]&&t[P].classList.add("focused"))}function $(t){t==="up"&&P>0?(P--,Ie()):t==="down"&&P<ct-1?(P++,Ie()):t==="right"&&(document.querySelectorAll(".gallery-nav-pages .nav-page-item").forEach(s=>s.classList.remove("focused")),l="gallery-media",M=0,R=0,se())}function kt(){const t=document.querySelectorAll(".gallery-nav-pages .nav-page-item"),e=document.querySelectorAll(".gallery-media-item"),s=document.querySelector(".gallery-header h1");if(!t||t.length===0)return;t.forEach(n=>n.classList.remove("selected")),t.forEach(n=>n.classList.remove("focused")),t[P]&&t[P].classList.add("selected");let i="all",o="All content";P===1?(i="image",o="Photos"):P===2?(i="video",o="Videos"):P===3&&(i="file",o="Files"),s&&(s.textContent=o),e.forEach(n=>{n.classList.add("fade-out")}),setTimeout(()=>{e.forEach(n=>{const a=n.getAttribute("data-type");i==="all"||a===i?(n.style.display="",n.classList.remove("fade-out"),n.classList.add("fade-in")):(n.style.display="none",n.classList.remove("fade-out"))}),e.forEach(n=>n.classList.remove("focused")),Ie()},300)}function se(){const t=document.querySelectorAll(".gallery-media-item"),e=Array.from(t).filter(i=>i.style.display!=="none");if(!e||e.length===0)return;t.forEach(i=>i.classList.remove("focused"));const s=M*O+R;if(e[s]){e[s].classList.add("focused");const i=document.querySelector(".gallery-media-grid");if(i)if(M>=3){const o=Math.min(M,Math.floor((e.length-1)/O)),n=e.filter((a,r)=>Math.floor(r/O)===o);if(n.length>0){const a=n[0].offsetTop;i.scrollTo({top:a-50,behavior:"smooth"})}}else if(M>=2){const o=e.filter((n,a)=>Math.floor(a/O)===2);if(o.length>0){const n=o[0].offsetTop;i.scrollTo({top:n-100,behavior:"smooth"})}}else i.scrollTo({top:0,behavior:"smooth"})}}function G(t){const e=document.querySelectorAll(".gallery-media-item"),s=Array.from(e).filter(a=>a.style.display!=="none");if(s.length===0)return;const i=s.length,o=Math.floor((i-1)/O),n=Math.min(O,i-M*O);if(t==="left")R>0?(R--,se()):(l="gallery-nav",Ie(),e.forEach(a=>a.classList.remove("focused")));else if(t==="right"&&R<n-1)R++,se();else if(t==="up"&&M>0){M--;const a=Math.min(O,i-M*O);R>=a&&(R=a-1),se()}else if(t==="down"&&M<o){M++;const a=Math.min(O,i-M*O);R>=a&&(R=a-1),se()}}function _(){const t=document.querySelectorAll("#shell-notifications .nav-page-item"),e=document.querySelectorAll("#shell-notifications .notification"),s=document.querySelectorAll(".notification-action-button");!t||t.length===0||(t.forEach(i=>i.classList.remove("focused")),e.forEach(i=>i.classList.remove("focused")),s.forEach(i=>i.classList.remove("focused")),t[E]&&t[E].classList.add("focused"))}function oe(t){t==="up"&&E>0?(E--,_()):t==="down"&&E<Me-1&&(E++,_())}function Tt(){const t=document.querySelectorAll("#shell-notifications .nav-page-item"),e=document.querySelectorAll("#shell-notifications .notification"),s=document.querySelector(".notifications-header h1"),i=document.querySelectorAll(".notification-action-button"),o=i[0],n=i[1];if(!t||t.length===0)return;t.forEach(f=>f.classList.remove("selected")),t.forEach(f=>f.classList.remove("focused")),t[E]&&t[E].classList.add("selected");let a="all",r="All notifications";E===1?(a="urgent",r="Urgent"):E===2?(a="social",r="Social"):E===3&&(a="update",r="Updates"),s&&(s.textContent=r),o&&n&&(E===1?(o.style.display="none",n.style.display=""):E===2?(o.style.display="",n.style.display="none"):E===3?(o.style.display="none",n.style.display=""):(o.style.display="",n.style.display="")),e.forEach(f=>{f.classList.add("fade-out")}),setTimeout(()=>{e.forEach(f=>{const m=f.getAttribute("data-type");a==="all"?(f.style.display="",f.classList.remove("fade-out"),f.classList.add("fade-in")):a==="update"?m&&(m.includes("game-update")||m.includes("app-update")||m.includes("system-update"))?(f.style.display="",f.classList.remove("fade-out"),f.classList.add("fade-in")):(f.style.display="none",f.classList.remove("fade-out")):m&&m.includes(a)?(f.style.display="",f.classList.remove("fade-out"),f.classList.add("fade-in")):(f.style.display="none",f.classList.remove("fade-out"))}),e.forEach(f=>f.classList.remove("focused")),_()},300)}function U(){const t=document.querySelectorAll("#shell-notifications .notification"),e=Array.from(t).filter(n=>n.style.display!=="none"),s=document.querySelectorAll("#shell-notifications .nav-page-item"),i=document.querySelectorAll(".notification-action-button"),o=document.querySelector("#shell-notifications .notifications-list");if(!(!e||e.length===0))if(t.forEach(n=>n.classList.remove("focused")),s.forEach(n=>n.classList.remove("focused")),i.forEach(n=>n.classList.remove("focused")),e[I]&&e[I].classList.add("focused"),o&&I>=4&&e.length>4){const n=e[4];if(n){const a=n.offsetTop;console.log(`Scrolling to notification ${I+1}, offsetTop: ${a}, scrollTo: ${a-72}`),o.scrollTo({top:a-72,behavior:"smooth"})}}else o&&I<=3&&(console.log(`Resetting scroll to top for notification ${I+1}`),o.scrollTo({top:0,behavior:"smooth"}))}function le(t){const e=document.querySelectorAll("#shell-notifications .notification"),s=Array.from(e).filter(o=>o.style.display!=="none");if(s.length===0)return;const i=s.length-1;t==="up"&&I>0?(I--,U()):t==="down"&&I<i&&(I++,U())}function ie(){const t=document.querySelectorAll(".notification-action-button"),e=document.querySelectorAll("#shell-notifications .nav-page-item"),s=document.querySelectorAll("#shell-notifications .notification");!t||t.length===0||(t.forEach(i=>i.classList.remove("focused")),e.forEach(i=>i.classList.remove("focused")),s.forEach(i=>i.classList.remove("focused")),t[k]&&t[k].classList.add("focused"))}function te(t){const e=document.querySelectorAll(".notification-action-button");!e||e.length===0||(t==="left"&&k>0?(k--,ie()):t==="right"&&k<e.length-1&&(k++,ie()))}function Ae(t){ve={area:l,navIndex:q,appIndex:g};const e=document.getElementById(`shell-${t}`),s=document.getElementById("focus"),i=document.getElementById("running-apps");if(!e)return;e.classList.add("visible"),i&&i.classList.remove("visible"),document.querySelectorAll(".preview-container").forEach(a=>{a.classList.add("hide-right")}),l="shell-surface",be=t;const n=document.getElementById("shell-nav");if(s&&(s.style.opacity="0"),n&&(n.style.opacity="0"),t==="start"&&(l="start-apps",x=0,y=-1,z(),D("start")),t==="settings"){l="settings-display-controls",T=0,Ee(),D("settings");for(let f=0;f<3;f++)Qe(f*3);[1,2,4,5,7,8].forEach(f=>{Oe(f)});const r=document.querySelectorAll(".settings-nav-pages .nav-page-item");r[0]&&r[0].classList.add("selected")}if(t==="gallery"){P=0;const a=document.querySelectorAll(".gallery-nav-pages .nav-page-item");a.forEach(m=>m.classList.remove("selected")),a[0]&&a[0].classList.add("selected"),document.querySelectorAll(".gallery-media-item").forEach(m=>{m.style.display="",m.classList.remove("fade-out","fade-in")});const f=document.querySelector(".gallery-header h1");f&&(f.textContent="All content"),l="gallery-media",M=0,R=0,se(),D("gallery")}if(t==="notifications"){E=0;const a=document.querySelectorAll("#shell-notifications .nav-page-item");a.forEach(m=>m.classList.remove("selected")),a[0]&&a[0].classList.add("selected"),document.querySelectorAll("#shell-notifications .notification").forEach(m=>{m.style.display="",m.classList.remove("fade-out","fade-in")});const f=document.querySelector(".notifications-header h1");f&&(f.textContent="All notifications"),l="notifications-content",I=0,U(),D("notifications")}}function pe(t){const e=document.getElementById(`shell-${t}`);document.getElementById("focus");const s=document.getElementById("running-apps");if(!e)return;e.classList.remove("visible"),s&&s.classList.add("visible"),document.querySelectorAll(".preview-container").forEach(o=>{o.classList.remove("hide-right")}),be=null,l==="start-apps"&&(x=0,y=0,document.querySelectorAll(".start-app").forEach(o=>{o.classList.remove("focused")}),document.querySelectorAll(".start-apps").forEach(o=>{o.style.transform="translateX(0) translateY(0)"})),(l==="settings-nav"||l==="settings-display-controls")&&(Y=0,T=0,document.querySelectorAll(".nav-page-item").forEach(o=>{o.classList.remove("focused"),o.classList.remove("selected")}),document.querySelectorAll(".slider-control, .cycle-selector").forEach(o=>{o.classList.remove("focused")})),(l==="gallery-nav"||l==="gallery-media")&&(P=0,M=0,R=0,document.querySelectorAll(".gallery-nav-pages .nav-page-item").forEach(o=>{o.classList.remove("focused"),o.classList.remove("selected")}),document.querySelectorAll(".gallery-media-item").forEach(o=>{o.classList.remove("focused")})),(l==="notifications-nav"||l==="notifications-buttons"||l==="notifications-content")&&(E=0,I=0,k=0,document.querySelectorAll("#shell-notifications .nav-page-item").forEach(o=>{o.classList.remove("focused"),o.classList.remove("selected")}),document.querySelectorAll(".notification-action-button").forEach(o=>{o.classList.remove("focused")}),document.querySelectorAll("#shell-notifications .notification").forEach(o=>{o.classList.remove("focused")})),At(),D("preview")}function je(){Ae("start")}function he(){pe("start")}function Bt(){Ae("settings")}function xt(){pe("settings")}function Dt(){Ae("notifications")}function Ct(){pe("notifications")}function Nt(){Ae("gallery")}function Mt(){pe("gallery")}function Pt(){const t=Date.now();if((d.justPressed("LEFT")||d.isDown("LEFT")&&t-c>H)&&(l==="start-apps"?(F("left"),c=t):l==="settings-nav"?(V("left"),c=t):l==="gallery-nav"?($("left"),c=t):l==="gallery-media"?(G("left"),c=t):l==="settings-display-controls"?(X("left"),c=t):l==="notifications-content"?(l="notifications-nav",_(),c=t):l==="notifications-buttons"?k>0?(te("left"),c=t):(l="notifications-nav",_(),c=t):l!=="shell-surface"&&(l==="preview"&&!b?Z("left"):l==="shell-nav"&&ee("left"),c=t)),d.justPressed("RIGHT")||d.isDown("RIGHT")&&t-c>H)if(l==="start-apps")F("right"),c=t;else if(l==="settings-nav")V("right"),c=t;else if(l==="gallery-nav")$("right"),c=t;else if(l==="gallery-media")G("right"),c=t;else if(l==="settings-display-controls")X("right"),c=t;else if(l==="notifications-nav")l="notifications-content",I=0,U(),c=t;else if(l==="notifications-buttons"){const n=document.querySelectorAll(".notification-action-button");k<n.length-1?(te("right"),c=t):(l="notifications-content",I=0,U(),c=t)}else l!=="shell-surface"&&(l==="preview"&&!b?Z("right"):l==="shell-nav"&&ee("right"),c=t);(d.justPressed("LB")||d.isDown("LB")&&t-c>H)&&l!=="shell-surface"&&(l==="preview"&&!b?Z("left"):l==="shell-nav"&&ee("left"),c=t),(d.justPressed("RB")||d.isDown("RB")&&t-c>H)&&l!=="shell-surface"&&(l==="preview"&&!b?Z("right"):l==="shell-nav"&&ee("right"),c=t);const e=d.getStick("LEFT"),s=Date.now();if(e.magnitude>u&&s-c>H)if(l==="start-apps")e.x>u?(F("right"),c=s):e.x<-u&&(F("left"),c=s);else if(l==="settings-nav")e.x>u&&(V("right"),c=s);else if(l==="gallery-nav")e.x>u&&($("right"),c=s);else if(l==="gallery-media")e.x>u?(G("right"),c=s):e.x<-u&&(G("left"),c=s);else if(l==="settings-display-controls")e.x<-u&&(X("left"),c=s);else if(l==="notifications-nav")e.x>u&&(l="notifications-content",I=0,U(),c=s);else if(l==="notifications-buttons"){const n=document.querySelectorAll(".notification-action-button");e.x>u?k<n.length-1?(te("right"),c=s):(l="notifications-content",I=0,U(),c=s):e.x<-u&&(k>0?(te("left"),c=s):(l="notifications-nav",_(),c=s))}else l==="notifications-content"?e.x<-u&&(l="notifications-nav",_(),c=s):l!=="shell-surface"&&(e.x>u?(l==="preview"&&!b?Z("right"):l==="shell-nav"&&ee("right"),c=s):e.x<-u&&(l==="preview"&&!b?Z("left"):l==="shell-nav"&&ee("left"),c=s));if(e.magnitude>u&&s-c>H)if(l==="start-apps")e.y>u?(F("up"),c=s):e.y<-u&&(F("down"),c=s);else if(l==="settings-nav")e.y>u?(V("up"),c=s):e.y<-u&&(V("down"),c=s);else if(l==="gallery-nav")e.y>u?($("up"),c=s):e.y<-u&&($("down"),c=s);else if(l==="notifications-nav")e.y>u?(oe("up"),c=s):e.y<-u&&(E===Me-1?(l="notifications-buttons",E===2?k=0:k=1,ie(),c=s):(oe("down"),c=s));else if(l==="notifications-buttons"){const n=document.querySelectorAll(".notification-action-button");e.x>u?k<n.length-1&&(te("right"),c=s):e.x<-u?k>0&&(te("left"),c=s):e.y>u?(l="notifications-nav",_(),c=s):e.y<-u&&(l="notifications-content",I=0,U(),c=s)}else l==="notifications-content"?e.y>u?I===0?(l="notifications-buttons",k=1,ie(),c=s):(le("up"),c=s):e.y<-u&&(le("down"),c=s):l==="gallery-media"?e.y>u?(G("up"),c=s):e.y<-u&&(G("down"),c=s):l==="settings-display-controls"?e.y>u?(X("up"),c=s):e.y<-u&&(X("down"),c=s):l!=="shell-surface"&&(e.y>u?l==="shell-nav"&&!b&&(l="preview",N(),D("preview"),c=s):e.y<-u&&l==="preview"&&!b&&(l="shell-nav",N(),D("shell-nav"),c=s));(d.justPressed("DOWN")||d.isDown("DOWN")&&t-c>H)&&(l==="start-apps"?(F("down"),c=t):l==="settings-nav"?(V("down"),c=t):l==="gallery-nav"?($("down"),c=t):l==="notifications-nav"?E===Me-1?(l="notifications-buttons",E===2?k=0:k=1,ie(),c=t):(oe("down"),c=t):l==="notifications-buttons"?(l="notifications-content",I=0,U(),c=t):l==="notifications-content"?(le("down"),c=t):l==="gallery-media"?(G("down"),c=t):l==="settings-display-controls"?(X("down"),c=t):l!=="shell-surface"&&l==="preview"&&!b&&(l="shell-nav",N(),D("shell-nav"),c=t)),(d.justPressed("UP")||d.isDown("UP")&&t-c>H)&&(l==="start-apps"?(F("up"),c=t):l==="settings-nav"?(V("up"),c=t):l==="gallery-nav"?($("up"),c=t):l==="notifications-nav"?(oe("up"),c=t):l==="notifications-buttons"?(l="notifications-nav",_(),c=t):l==="notifications-content"?I===0?(l="notifications-buttons",k=1,ie(),c=t):(le("up"),c=t):l==="gallery-media"?(G("up"),c=t):l==="settings-display-controls"?(X("up"),c=t):l!=="shell-surface"&&l==="shell-nav"&&!b&&(l="preview",N(),D("preview"),c=t)),(d.justPressed("DOWN")||d.isDown("DOWN")&&t-c>H)&&(l==="settings-nav"?(V("down"),c=t):l==="gallery-nav"?($("down"),c=t):l==="notifications-nav"?(oe("down"),c=t):l==="notifications-content"?(le("down"),c=t):l==="settings-display-controls"&&(X("down"),c=t)),b&&l==="preview"&&(d.getStick("LEFT").magnitude>u,d.justPressed("UP"),d.justPressed("DOWN"),d.justPressed("LEFT"),d.justPressed("RIGHT"));const i=Date.now();if(d.isDown("A")&&i-ke>ft){const n=document.getElementById("overlay");if(n&&n.classList.contains("visible")){n.classList.remove("visible","show-gb","show-steam"),ne=!1,document.querySelectorAll(".preview-container").forEach(r=>{r.classList.contains("hidden-app")||r.classList.add("hide-right")}),je(),p.confirmation(),ke=i;return}if(Te||Be||xe)return;if(ke=i,l==="start-apps")if(y===0&&x===0){if(Xe){p.lightTap();return}Be=!0,Xe=!0,he(),setTimeout(()=>{const a=document.getElementById("blue"),r=document.getElementById("blue-preview");a&&a.classList.remove("hidden-app"),r&&(r.classList.remove("hidden-app"),r.classList.add("slide-in-left","preview-center"));const f=w.indexOf("blue");if(f===-1){console.error("Xbox not found in appNames array");return}g=f;const m=S[g],h=w[g];S.splice(g,1),w.splice(g,1),S.unshift(m),w.unshift(h);const v=document.getElementById("running-apps");v&&(v.innerHTML="",S.forEach(B=>{B&&v.appendChild(B)})),g=0,S.forEach((B,L)=>{B&&(L===g?(B.classList.add("app-active"),B.classList.remove("app-rest")):(B.classList.add("app-rest"),B.classList.remove("app-active")))}),v&&v.classList.add("visible");const C=document.getElementById("shell-nav");C&&C.classList.add("visible"),l="preview",N();const W=document.getElementById("focus");W&&(W.style.opacity="0",W.style.visibility="hidden"),setTimeout(()=>{r&&(r.classList.remove("slide-in-left"),r.classList.contains("preview-center")||r.classList.add("preview-center")),W&&(W.style.opacity="1",W.style.visibility="visible"),r&&(r.classList.add("preview-scaled"),b=!0,D("preview-scaled")),N(),v&&v.classList.remove("visible");const B=document.getElementById("shell-nav");B&&B.classList.remove("visible"),setTimeout(()=>{Be=!1},400)},600)},100),p.confirmation()}else if(y===0&&x===1){if(Ve){p.lightTap();return}Te=!0,Ve=!0,he(),setTimeout(()=>{const a=document.getElementById("orange"),r=document.getElementById("orange-preview");a&&a.classList.remove("hidden-app"),r&&(r.classList.remove("hidden-app"),r.classList.add("slide-in-left","preview-center")),g=2;const f=S[g],m=w[g];S.splice(g,1),w.splice(g,1),S.unshift(f),w.unshift(m);const h=document.getElementById("running-apps");h&&(h.innerHTML="",S.forEach(C=>{C&&h.appendChild(C)})),g=0,He(),h&&h.classList.add("visible"),l="preview",N();const v=document.getElementById("focus");v&&(v.style.opacity="0",v.style.visibility="hidden"),setTimeout(()=>{r&&r.classList.remove("slide-in-left"),v&&(v.style.opacity="1",v.style.visibility="visible"),Ge(),setTimeout(()=>{Te=!1},400)},600)},100),p.confirmation()}else if(y===1&&x===0){if($e){p.lightTap();return}xe=!0,$e=!0,he(),setTimeout(()=>{const a=document.getElementById("green"),r=document.getElementById("green-preview");a&&a.classList.remove("hidden-app"),r&&(r.classList.remove("hidden-app"),r.classList.add("slide-in-left","preview-center"));const f=w.indexOf("green");if(f===-1){console.error("Silksong not found in appNames array");return}g=f;const m=S[g],h=w[g];S.splice(g,1),w.splice(g,1),S.unshift(m),w.unshift(h);const v=document.getElementById("running-apps");v&&(v.innerHTML="",S.forEach(L=>{L&&v.appendChild(L)})),g=0,S.forEach((L,ge)=>{L&&(ge===g?(L.classList.add("app-active"),L.classList.remove("app-rest")):(L.classList.add("app-rest"),L.classList.remove("app-active")))}),v&&v.classList.add("visible");const C=document.getElementById("shell-nav");C&&C.classList.add("visible"),w.map(L=>document.getElementById(`${L}-preview`)).forEach((L,ge)=>{L&&L!==r&&(L.classList.remove("preview-center","preview-left","preview-right","preview-far-left","preview-far-right"),ge===1?L.classList.add("preview-right"):ge===2&&L.classList.add("preview-far-right"))}),l="preview",N();const B=document.getElementById("focus");B&&(B.style.opacity="0",B.style.visibility="hidden"),setTimeout(()=>{r&&(r.classList.remove("slide-in-left"),r.classList.contains("preview-center")||r.classList.add("preview-center")),B&&(B.style.opacity="1",B.style.visibility="visible"),r&&(r.classList.add("preview-scaled"),b=!0,D("preview-scaled")),N(),v&&v.classList.remove("visible");const L=document.getElementById("shell-nav");L&&L.classList.remove("visible"),setTimeout(()=>{xe=!1},400)},600)},100),p.confirmation()}else p.confirmation();else l==="preview"?Ge():l==="shell-nav"?q===0?(je(),p.confirmation()):q===1?(Bt(),p.confirmation()):q===2?(Nt(),p.confirmation()):q===3&&(Dt(),p.confirmation()):l==="gallery-nav"?(kt(),p.confirmation()):l==="notifications-nav"?(Tt(),p.confirmation()):l==="shell-surface"&&p.lightTap()}if(d.justPressed("B")){const n=document.getElementById("shell-start"),a=document.getElementById("shell-settings"),r=document.getElementById("shell-notifications"),f=document.getElementById("shell-gallery");n&&n.classList.contains("visible")?(he(),p.lightTap()):a&&a.classList.contains("visible")?(xt(),p.lightTap()):r&&r.classList.contains("visible")?(Ct(),p.lightTap()):(f&&f.classList.contains("visible")&&Mt(),p.lightTap())}d.justPressed("Y")&&p.lightTap(),d.justPressed("LT")&&p.menuToggle(),d.justPressed("RT")&&p.menuToggle();const o=d.getStick("RIGHT");if(l==="settings-display-controls"&&[0,3,6].includes(T)){if(o.magnitude>gt){const n=T===0?0:T===3?1:2,a=2;we[n]+=o.x*a,we[n]=Math.max(0,Math.min(100,we[n])),Qe(T)}}else if(l==="settings-display-controls"&&[1,2,4,5,7,8].includes(T)){const n=Date.now();if(o.magnitude>u&&n-De>dt){const r={1:0,2:1,4:2,5:3,7:4,8:5}[T];o.x>u?(ae[r]=(ae[r]+1)%Le.length,Oe(T),De=n):o.x<-u&&(ae[r]=(ae[r]-1+Le.length)%Le.length,Oe(T),De=n)}}d.justPressed("LS")&&p.lightTap(),d.justPressed("RS")&&p.lightTap(),d.justPressed("MENU")&&(console.log("Shell: Opening main menu"),ue(A.MENU),p.menuToggle())}function Rt(){console.log("Menu inputs active - navigating menu system!"),d.justPressed("UP")&&(console.log("Menu: Navigate up"),p.selectionChange()),d.justPressed("DOWN")&&(console.log("Menu: Navigate down"),p.selectionChange()),d.justPressed("A")&&(console.log("Menu: Select item"),p.confirmation()),d.justPressed("B")&&(console.log("Menu: Back to shell"),ue(A.SHELL),p.menuToggle()),d.justPressed("MENU")&&(console.log("Menu: Closing menu"),ue(A.SHELL),p.menuToggle())}function qt(){console.log("App inputs active - app-specific controls!"),d.justPressed("B")&&(console.log("App: Back to shell"),ue(A.SHELL),p.lightTap())}D("lock-screen");requestAnimationFrame(Ye);
