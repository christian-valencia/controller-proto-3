(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const H={LS_X:0,LS_Y:1,RS_X:2,RS_Y:3},ae={A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,VIEW:8,MENU:9,LS:10,RS:11,UP:12,DOWN:13,LEFT:14,RIGHT:15,HOME:16};class re{prev=new Map;now=new Map;deadzone=.18;triggerThreshold=.2;indexOfFirst=null;constructor(){console.log("ðŸŽ® GamepadManager initialized"),window.addEventListener("gamepadconnected",e=>{console.log("ðŸŽ® GAMEPAD CONNECTED:",e.gamepad.id),this.indexOfFirst===null&&(this.indexOfFirst=e.gamepad.index)}),window.addEventListener("gamepaddisconnected",e=>{console.log("ðŸŽ® GAMEPAD DISCONNECTED:",e.gamepad.id);const s=e.gamepad.index;this.indexOfFirst===s&&(this.indexOfFirst=null)})}first(){const e=navigator.getGamepads();for(const s of e)if(s)return s;return null}logControllers(){const e=navigator.getGamepads();console.log("ðŸŽ® Checking for controllers..."),console.log("ðŸŽ® navigator.getGamepads():",e);for(let s=0;s<e.length;s++){const n=e[s];n&&console.log(`ðŸŽ® Controller ${s}:`,n.id,"buttons:",n.buttons.length)}}update(){this.prev=new Map(this.now),this.now.clear();const e=navigator.getGamepads();for(const s of e)s&&(this.now.set(s.index,s),s.buttons[3]&&s.buttons[3].pressed&&console.log("ðŸŽ® GAMEPAD Y BUTTON PRESSED!",s.id))}btnValue(e,s){const n=e.buttons[ae[s]];return n?s==="LT"||s==="RT"?n.value>=this.triggerThreshold?n.value:0:n.pressed?1:0:0}isDown(e,s=0){let n=this.now.get(s);if(!n){for(const[a,c]of this.now.entries())if(c){n=c,e==="Y"&&console.log("ðŸŽ® GamepadManager.isDown - Found gamepad at index",a,"instead of",s);break}}if(!n)return e==="Y"&&console.log("ðŸŽ® GamepadManager.isDown - No gamepad found at any index"),!1;const o=this.btnValue(n,e)>0;return e==="Y"&&console.log('ðŸŽ® GamepadManager.isDown("Y") =',o,"btnValue =",this.btnValue(n,e)),o}justPressed(e,s=0){let n=this.now.get(s),o=this.prev.get(s);if(!n){for(const[u,g]of this.now.entries())if(g){n=g,o=this.prev.get(u);break}}if(!n)return!1;const a=this.btnValue(n,e)>0,c=o?this.btnValue(o,e)>0:!1;return a&&!c}justReleased(e,s=0){let n=this.now.get(s),o=this.prev.get(s);if(!n){for(const[u,g]of this.now.entries())if(g){n=g,o=this.prev.get(u);break}}if(!n)return!1;const a=this.btnValue(n,e)>0,c=o?this.btnValue(o,e)>0:!1;return!a&&c}getStick(e,s=0){let n=this.now.get(s);if(!n){for(const[D,B]of this.now.entries())if(B){n=B;break}}if(!n)return{x:0,y:0,magnitude:0};const o=e==="LEFT"?H.LS_X:H.RS_X,a=e==="LEFT"?H.LS_Y:H.RS_Y;let c=n.axes[o]??0,u=n.axes[a]??0;u=-u;const g=Math.hypot(c,u);if(g<this.deadzone)return{x:0,y:0,magnitude:0};const L=(g-this.deadzone)/(1-this.deadzone),p=L/(g||1);return{x:c*p,y:u*p,magnitude:L}}}const T={a:"A",A:"A",s:"B",S:"B",d:"X",D:"X",w:"Y",W:"Y",j:"A",J:"A",l:"B",L:"B",i:"Y",I:"Y",k:"X",K:"X",ArrowUp:"UP",ArrowDown:"DOWN",ArrowLeft:"LEFT",ArrowRight:"RIGHT",q:"LB",Q:"LB",e:"RB",E:"RB",z:"LT",Z:"LT",c:"RT",C:"RT",v:"LS",V:"LS",n:"RS",N:"RS",Tab:"VIEW",Enter:"MENU",Escape:"HOME"};class ce{keysDown=new Set;prevKeysDown=new Set;leftStick={x:0,y:0};rightStick={x:0,y:0};constructor(){window.addEventListener("keydown",e=>{(T[e.key]||e.key==="Tab")&&e.preventDefault(),this.keysDown.add(e.key),this.updateSticks()}),window.addEventListener("keyup",e=>{(T[e.key]||e.key==="Tab")&&e.preventDefault(),this.keysDown.delete(e.key),this.updateSticks()})}updateSticks(){let e=0,s=0;this.keysDown.has("Control")&&((this.keysDown.has("a")||this.keysDown.has("A"))&&(e-=1),(this.keysDown.has("d")||this.keysDown.has("D"))&&(e+=1),(this.keysDown.has("w")||this.keysDown.has("W"))&&(s+=1),(this.keysDown.has("s")||this.keysDown.has("S"))&&(s-=1));let o=0,a=0;this.keysDown.has("Alt")&&((this.keysDown.has("j")||this.keysDown.has("J"))&&(o-=1),(this.keysDown.has("l")||this.keysDown.has("L"))&&(o+=1),(this.keysDown.has("i")||this.keysDown.has("I"))&&(a+=1),(this.keysDown.has("k")||this.keysDown.has("K"))&&(a-=1)),this.leftStick={x:e,y:s},this.rightStick={x:o,y:a}}update(){this.prevKeysDown=new Set(this.keysDown)}isDown(e){for(const[s,n]of Object.entries(T))if(n===e&&this.keysDown.has(s))return!0;return!1}justPressed(e){if(!this.isDown(e))return!1;for(const[n,o]of Object.entries(T))if(o===e&&this.prevKeysDown.has(n))return!1;return!0}justReleased(e){if(this.isDown(e))return!1;for(const[n,o]of Object.entries(T))if(o===e&&this.prevKeysDown.has(n))return!0;return!1}getStick(e){const s=e==="LEFT"?this.leftStick:this.rightStick,n=Math.hypot(s.x,s.y);return n>1?{x:s.x/n,y:s.y/n,magnitude:1}:{x:s.x,y:s.y,magnitude:n}}getKeyMappings(){return{...T}}}class de{gamepadManager;keyboardManager;constructor(){this.gamepadManager=new re,this.keyboardManager=new ce}update(){this.gamepadManager.update(),this.keyboardManager.update()}isDown(e,s=0){return this.gamepadManager.isDown(e,s)||this.keyboardManager.isDown(e)}justPressed(e,s=0){return this.gamepadManager.justPressed(e,s)||this.keyboardManager.justPressed(e)}justReleased(e,s=0){return this.gamepadManager.justReleased(e,s)||this.keyboardManager.justReleased(e)}getStick(e,s=0){const n=this.gamepadManager.getStick(e,s);return n.magnitude>.1?n:this.keyboardManager.getStick(e)}get gamepad(){return this.gamepadManager}get keyboard(){return this.keyboardManager}firstGamepad(){return this.gamepadManager.first()}getActiveInputMethod(){const e=this.gamepadManager.first()!==null,s=this.keyboardManager.getStick("LEFT").magnitude>0||this.keyboardManager.getStick("RIGHT").magnitude>0||Object.values(this.keyboardManager.getKeyMappings()).some(n=>this.keyboardManager.isDown(n));return e&&s?"both":e?"gamepad":s?"keyboard":"none"}}document.getElementById("windows-shell");document.getElementById("lock-screen");const V=document.getElementById("system-tray"),z=document.getElementById("switcher"),R=document.getElementById("clock"),J=document.getElementById("clock2"),q=document.getElementById("auth");document.getElementById("auth-text-left");document.getElementById("auth-text-right");document.getElementById("progress-ring");const b=document.getElementById("progress-circle");document.getElementById("status-container");document.getElementById("debug-container");const ue=document.getElementById("green"),ge=document.getElementById("blue"),fe=document.getElementById("orange");let S=[ue,ge,fe],y=["green","blue","orange"];const i=new de;window.checkControllers=()=>i.gamepadManager.logControllers();let Q=0;window.addEventListener("keydown",t=>{if((t.key.toLowerCase()==="s"||t.key.toLowerCase()==="l")&&w===h.SHELL&&m){const e=Date.now();e-Q>200&&(console.log(`Direct B button handler - closing ${m}`),j(m),Q=e)}});const h={LOCKED:"locked",SHELL:"shell",MENU:"menu",APP:"app"};let w=h.LOCKED,d=0,f=0;const E=300;let P=!1,Z=0;const he=300;let l="preview",v=0,U={area:"preview",navIndex:0,appIndex:0},m=null;const I=["library","settings","notifications","gallery"];let x=!1,K=0;const pe=700;let N=!1,X=0;const ee=700;window.addEventListener("keydown",t=>{t.key.toLowerCase()==="f"&&Y()});function Y(){document.fullscreenElement?document.exitFullscreen().catch(console.error):document.documentElement.requestFullscreen().catch(console.error)}function te(){i.update(),me(),ke(),requestAnimationFrame(te)}function me(){switch(w){case h.LOCKED:ve();break;case h.SHELL:xe(),we();break;case h.MENU:Ne();break;case h.APP:Re();break;default:console.warn("Unknown UI state:",w);break}i.justPressed("VIEW")&&Y(),i.justPressed("MENU")&&w===h.LOCKED&&Y()}function ve(){if(w!==h.LOCKED)return;const t=i.isDown("Y");if(t&&!x)x=!0,K=Date.now(),b&&(b.style.transition="none",b.style.strokeDashoffset="100.53");else if(t&&x){const e=Date.now()-K,s=Math.min(e/pe,1);if(b){const o=100.53*(1-s);b.style.strokeDashoffset=o.toString()}s>=1&&ye()}else!t&&x&&se()}function ye(){console.log("Hold complete! Authentication action triggered."),P=!1,O(h.SHELL),F(),d=0,l="preview";const t=document.getElementById("focus"),e=document.getElementById("green-preview");e&&(e.classList.add("preview-scaled"),P=!0),t&&(t.classList.add("visible"),k()),q&&q.classList.add("slide-out"),se(),r.confirmation(),console.log("Lock screen unlocked! Shell interactions now active.")}function se(){w===h.LOCKED&&(x=!1,K=0,b&&(b.style.transition="stroke-dashoffset 0.2s ease",b.style.strokeDashoffset="100.53"))}function we(){if(w!==h.SHELL||!P||l!=="preview")return;const t=i.isDown("X");t&&!N?(N=!0,X=Date.now(),console.log("X button hold started - will scale down preview in",ee+"ms")):t&&N?Date.now()-X>=ee&&Le():!t&&N&&ne()}function Le(){console.log("X button hold complete! Scaling down preview and reordering to leftmost position.");const e=y.map(s=>document.getElementById(`${s}-preview`))[d];if(e&&e.classList.contains("preview-scaled")){e.classList.remove("preview-scaled"),P=!1;const s=document.getElementById("running-apps");s&&s.classList.add("visible");const n=document.getElementById("shell-nav");if(n&&n.classList.add("visible"),d!==0){console.log(`Reordering: Moving ${y[d]} to leftmost position`);const o=S[d],a=y[d];S.splice(d,1),y.splice(d,1),S.unshift(o),y.unshift(a);const c=document.getElementById("running-apps");c&&(c.innerHTML="",S.forEach(u=>{u&&c.appendChild(u)})),d=0,console.log("New app order:",y)}ie(),F(),k(),r.confirmation()}ne()}function ne(){N=!1,X=0}function ke(){Ee(),oe()}function oe(){const t=w!==h.LOCKED;V&&(V.className=t?"unlocked":"locked"),z&&(z.className=t?"unlocked":"locked"),R&&(t?R.classList.add("slide-out"):R.classList.remove("slide-out"))}function Ee(){const t=new Date;let e=t.getHours();const s=t.getMinutes();e===0?e=12:e>12&&(e=e-12);const n=`${e}:${s.toString().padStart(2,"0")}`;R&&(R.textContent=n),J&&(J.textContent=n)}async function A(t=1,e=200){const s=i.firstGamepad();if(!s)return;const n=s.vibrationActuator;if(n)try{await n.playEffect("dual-rumble",{duration:e,strongMagnitude:t,weakMagnitude:t})}catch(o){console.warn("Rumble not supported:",o)}}const r={lightTap:()=>A(.2,50),confirmation:()=>A(.8,200),navigation:()=>A(.1,30),error:()=>A(.6,100),menuToggle:()=>A(.4,150),selectionChange:()=>A(.15,25)};function O(t){console.log(`UI State: ${w} â†’ ${t}`),w=t;const e=document.getElementById("blur-container");e&&(t!==h.LOCKED?e.classList.add("visible"):e.classList.remove("visible")),oe(),F()}function C(t){const e=d;t==="right"?d=(d+1)%S.length:t==="left"&&(d=(d-1+S.length)%S.length),console.log(`App Navigation: ${y[e]} â†’ ${y[d]}`),F(),r.selectionChange()}function M(t){const e=v;t==="right"?v=(v+1)%I.length:t==="left"&&(v=(v-1+I.length)%I.length),console.log(`Shell Nav Navigation: ${I[e]} â†’ ${I[v]}`),k(),r.selectionChange()}function F(){w===h.SHELL&&(S.forEach((t,e)=>{t&&(e===d?(t.classList.add("app-active"),t.classList.remove("app-rest")):(t.classList.add("app-rest"),t.classList.remove("app-active")))}),ie())}function ie(){const t=y.map(e=>document.getElementById(`${e}-preview`));switch(t.forEach(e=>{e&&e.classList.remove("preview-center","preview-left","preview-right","preview-far-left","preview-far-right","preview-scaled")}),P=!1,d){case 0:t[0]?.classList.add("preview-center"),t[1]?.classList.add("preview-right"),t[2]?.classList.add("preview-far-right");break;case 1:t[0]?.classList.add("preview-left"),t[1]?.classList.add("preview-center"),t[2]?.classList.add("preview-right");break;case 2:t[0]?.classList.add("preview-far-left"),t[1]?.classList.add("preview-left"),t[2]?.classList.add("preview-center");break}k()}function be(){const e=y.map(s=>document.getElementById(`${s}-preview`))[d];if(e)if(P)console.log("Preview already scaled up. Use VIEW button hold to scale down.");else{e.classList.add("preview-scaled"),P=!0;const s=document.getElementById("running-apps");s&&s.classList.remove("visible");const n=document.getElementById("shell-nav");n&&n.classList.remove("visible"),k(),r.confirmation()}}function k(){const t=document.getElementById("focus");if(t)if(t.classList.remove("focus-preview","focus-nav","focus-shell-surface","focus-shell-library","focus-shell-settings"),l==="preview"){$();const s=y.map(o=>document.getElementById(`${o}-preview`))[d];if(!s)return;s.classList.contains("preview-scaled")?(t.style.width="100vw",t.style.height="100vh"):(t.style.width="50vw",t.style.height="50vh"),t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.classList.add("focus-preview")}else if(l==="shell-nav"){t.classList.add("focus-nav");const e=document.getElementById(I[v]);if(!e)return;const s=e.getBoundingClientRect(),n=document.getElementById("windows-shell").getBoundingClientRect();t.style.width="64px",t.style.height="64px",t.style.top=`${s.top-n.top+s.height/2}px`,t.style.left=`${s.left-n.left+s.width/2}px`,t.style.transform="translate(-50%, -50%)",$(I[v])}else l==="shell-surface"&&($(),le())}function $(t=null){const e={library:document.getElementById("label-library"),settings:document.getElementById("label-settings"),notifications:document.getElementById("label-notifications"),gallery:document.getElementById("label-gallery")},s=document.getElementById("shell-nav");if(!t||!s){Object.values(e).forEach(L=>{L&&L.classList.remove("active","faded")});return}const n=document.getElementById(t);if(!n)return;const o=n.getBoundingClientRect(),a=s.getBoundingClientRect(),c=o.top-a.top,u=o.left-a.left,g=o.width;Object.entries(e).forEach(([L,p])=>{if(p)if(L===t){p.classList.add("active"),p.classList.remove("faded");const D=c-14-20,B=u+g/2;p.style.top=`${D}px`,p.style.left=`${B}px`,p.style.transform="translateX(-50%)"}else p.classList.remove("active"),p.classList.add("faded")})}function le(){const t=document.getElementById("focus");t&&(t.classList.remove("focus-preview","focus-nav"),t.classList.add("focus-shell-surface"),t.style.width="200px",t.style.height="32px",t.style.top="92px",t.style.left="48px",t.style.transform="none",t.style.maxWidth="none",t.style.maxHeight="none",t.style.minWidth="none",t.style.minHeight="none")}function Se(){l=U.area,d=U.appIndex,v=U.navIndex,k()}function G(t){U={area:l,navIndex:v,appIndex:d};const e=document.getElementById(`shell-${t}`),s=document.getElementById("focus"),n=document.getElementById("running-apps");e&&(e.classList.add("visible"),console.log(`Shell ${t.charAt(0).toUpperCase()+t.slice(1)} sliding in from bottom`),n&&n.classList.remove("visible"),l="shell-surface",m=t,s&&(t==="library"||t==="settings")&&s.classList.add(`focus-shell-${t}`),le())}function j(t){const e=document.getElementById(`shell-${t}`),s=document.getElementById("focus"),n=document.getElementById("running-apps");e&&(e.classList.remove("visible"),console.log(`Shell ${t.charAt(0).toUpperCase()+t.slice(1)} sliding out to bottom`),n&&n.classList.add("visible"),s&&(t==="library"||t==="settings")&&s.classList.remove(`focus-shell-${t}`),m=null,Se())}function De(){G("library")}function Be(){j("library")}function Ie(){G("settings")}function Pe(){j("settings")}function Te(){G("notifications")}function Ae(){j("notifications")}function Ce(){G("gallery")}function Me(){j("gallery")}function xe(){console.log("Shell inputs active - ready for desktop interactions!");const t=Date.now(),e={LEFT:i.isDown("LEFT"),RIGHT:i.isDown("RIGHT"),LB:i.isDown("LB"),RB:i.isDown("RB"),leftJust:i.justPressed("LEFT"),rightJust:i.justPressed("RIGHT"),lbJust:i.justPressed("LB"),rbJust:i.justPressed("RB")};Object.values(e).some(D=>D)&&console.log("Input detected:",e);const n=i.justPressed("LEFT"),o=i.justPressed("RIGHT"),a=i.justPressed("LB"),c=i.justPressed("RB");(n||o||a||c)&&console.log("Navigation input detected:",{leftPressed:n,rightPressed:o,lbPressed:a,rbPressed:c}),(i.justPressed("LEFT")||i.isDown("LEFT")&&t-f>E)&&(console.log("LEFT input detected"),l!=="shell-surface"?(l==="preview"?(console.log("Navigating apps left"),C("left")):l==="shell-nav"&&(console.log("Navigating shell-nav left"),M("left")),f=t):console.log("LEFT navigation blocked - currently in shell surface:",m)),(i.justPressed("RIGHT")||i.isDown("RIGHT")&&t-f>E)&&(console.log("RIGHT input detected"),l!=="shell-surface"?(l==="preview"?(console.log("Navigating apps right"),C("right")):l==="shell-nav"&&(console.log("Navigating shell-nav right"),M("right")),f=t):console.log("RIGHT navigation blocked - currently in shell surface:",m)),(i.justPressed("LB")||i.isDown("LB")&&t-f>E)&&(console.log("LB input detected"),l!=="shell-surface"?(l==="preview"?(console.log("Navigating apps left"),C("left")):l==="shell-nav"&&(console.log("Navigating shell-nav left"),M("left")),f=t):console.log("LB navigation blocked - currently in shell surface:",m)),(i.justPressed("RB")||i.isDown("RB")&&t-f>E)&&(console.log("RB input detected"),l!=="shell-surface"?(l==="preview"?(console.log("Navigating apps right"),C("right")):l==="shell-nav"&&(console.log("Navigating shell-nav right"),M("right")),f=t):console.log("RB navigation blocked - currently in shell surface:",m));const u=i.getStick("LEFT"),g=Date.now();u.magnitude>.6&&g-f>E&&(l!=="shell-surface"?u.x>.6?(l==="preview"?C("right"):l==="shell-nav"&&M("right"),f=g):u.x<-.6&&(l==="preview"?C("left"):l==="shell-nav"&&M("left"),f=g):console.log("Stick navigation blocked - currently in shell surface:",m)),u.magnitude>.6&&g-f>E&&(l!=="shell-surface"?u.y>.6?(console.log("Analog stick UP detected - moving focus back to preview"),l==="shell-nav"&&(l="preview",k(),f=g)):u.y<-.6&&(console.log("Analog stick DOWN detected - moving focus to shell-nav"),l==="preview"&&(l="shell-nav",k(),f=g)):console.log("Analog stick vertical navigation blocked - currently in shell surface:",m)),(i.justPressed("DOWN")||i.isDown("DOWN")&&t-f>E)&&(l!=="shell-surface"?(console.log("DOWN input detected - moving focus to shell-nav"),l==="preview"&&(l="shell-nav",k(),f=t)):console.log("DOWN input blocked - currently in shell surface:",m)),(i.justPressed("UP")||i.isDown("UP")&&t-f>E)&&(l!=="shell-surface"?(console.log("UP input detected - moving focus back to preview"),l==="shell-nav"&&(l="preview",k(),f=t)):console.log("UP input blocked - currently in shell surface:",m)),i.justPressed("UP")&&(console.log("Navigate UP - future functionality"),r.navigation()),i.justPressed("DOWN")&&(console.log("Navigate DOWN - future functionality"),r.navigation());const L=Date.now();if(i.isDown("A")&&L-Z>he&&(Z=L,l==="preview"?be():l==="shell-nav"?v===0?(console.log("Opening Library..."),De(),r.confirmation()):v===1?(console.log("Opening Settings..."),Ie(),r.confirmation()):v===2?(console.log("Opening Notifications..."),Te(),r.confirmation()):v===3&&(console.log("Opening Gallery..."),Ce(),r.confirmation()):l==="shell-surface"&&(console.log("A button pressed in shell surface:",m),r.lightTap())),i.justPressed("B")){const D=document.getElementById("shell-library"),B=document.getElementById("shell-settings"),W=document.getElementById("shell-notifications"),_=document.getElementById("shell-gallery");console.log("B button pressed via InputManager"),D&&D.classList.contains("visible")?(console.log("Shell: B button - Closing Library"),Be(),r.lightTap()):B&&B.classList.contains("visible")?(console.log("Shell: B button - Closing Settings"),Pe(),r.lightTap()):W&&W.classList.contains("visible")?(console.log("Shell: B button - Closing Notifications"),Ae(),r.lightTap()):_&&_.classList.contains("visible")?(console.log("Shell: B button - Closing Gallery"),Me(),r.lightTap()):(console.log("Shell: B button - Back/Cancel"),r.lightTap())}i.justPressed("Y")&&(console.log("Shell: Y button - Alternative action"),r.lightTap()),i.justPressed("LT")&&(console.log("Shell: LT - Previous app"),r.menuToggle()),i.justPressed("RT")&&(console.log("Shell: RT - Next app"),r.menuToggle());const p=i.getStick("RIGHT");p.magnitude>.3&&console.log(`Shell: Right stick scrolling - x:${p.x.toFixed(2)}, y:${p.y.toFixed(2)}`),i.justPressed("LS")&&(console.log("Shell: Left stick click - Quick action"),r.lightTap()),i.justPressed("RS")&&(console.log("Shell: Right stick click - Context menu"),r.lightTap()),i.justPressed("MENU")&&(console.log("Shell: Opening main menu"),O(h.MENU),r.menuToggle())}function Ne(){console.log("Menu inputs active - navigating menu system!"),i.justPressed("UP")&&(console.log("Menu: Navigate up"),r.selectionChange()),i.justPressed("DOWN")&&(console.log("Menu: Navigate down"),r.selectionChange()),i.justPressed("A")&&(console.log("Menu: Select item"),r.confirmation()),i.justPressed("B")&&(console.log("Menu: Back to shell"),O(h.SHELL),r.menuToggle()),i.justPressed("MENU")&&(console.log("Menu: Closing menu"),O(h.SHELL),r.menuToggle())}function Re(){console.log("App inputs active - app-specific controls!"),i.justPressed("B")&&(console.log("App: Back to shell"),O(h.SHELL),r.lightTap())}requestAnimationFrame(te);
